<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Исключенные объекты</title>
    <link type="text/css" rel="stylesheet" href="../book.css"/>
</head>

<body>
<h2>Исключенные объекты</h2>
<p>Имена объектов, которые не должны учитываться при сравнении БД, можо указать на странице 
настроек <b>pgCodeKeeper -> Исключенные объекты</b>.</p>
<p><img border="0" alt="Исключенные объекты" src="images/excluded_obj.png"></p>
<p>После добавления объекта в список исключенных, можно выставить дополнительные настройки, 
которые влияют на исключение объекта при сравнении:</p>
<ul>
<li><b>Шаблон</b> &ndash; является ли имя объекта регулярным выражением.</li>
<li><b>Игнорировать содержимое</b> &ndash; нужно ли пропустить объекты, вложенные в исключенный.</li>
</ul>

<h2>Черный/белый список</h2>
<p>В дополнение к странице настроек <b>Исключенные объекты</b>, 
существует возможность хранить черный/белый список объектов для каждого проекта.
Программа автоматически читает такой список из файла <b>.pgcodekeeperignore</b> в корне проекта.</p>
<p>Черный список разрешает показ всего, кроме объектов, указанных в списке.
Белый список запрещает показ всех объектов, кроме явно указанных в правилах списка.</p>
<p>Черные и белые списки могут использоваться вместе.
В таком случае, их правила объединяются в один общий список.
Правила, контролирующие отображение одного и того же объекта, складываются в одно общее правило по следующим принципам:
<ul>
<li>если "широта" правил различается, то преобладает более широкое правило (включающее в себя сам объект и его содержимое)</li>
<li>если "широта" правил одинакова, то преобладает скрывающее объект правило</li>
</ul>
* &ndash; "широта" здесь подразумевает состояние опции правила <i>Игнорировать содержимое</i>
</p>
<p>Список, задаваемый в настройках программы &ndash; всегда черный.
Список, создаваемый пользователем в корне проекта может быть как черным, так и белым.</p>

<h3>Синтаксис списков</h3>
<p>Формат файлов чувствителен к регистру. Кодировка &ndash; UTF-8.</p>
<p>
<table border='1'>
<tr><td>Черный список</td><td>Белый список</td></tr>
<tr>
<td>
<pre># комментарий
SHOW ALL
HIDE flag [, ...] identifier [ db=identifier ] # комментарий
[ ... ]</pre>
</td>
<td>
<pre># комментарий
HIDE ALL
SHOW flag [, ...] identifier [ db=identifier ] # комментарий
[ ... ]</pre>
</td>
</tr>
</table>

<pre>Где flag
        { NONE | REGEX | CONTENT }
Где identifier один из вариантов:
        строка-идентификатор без кавычек, состоящая из латинских букв, цифр и подчеркиваний; не может начинаться с цифры
            строка идентификатор не может быть ключевым словом (зарезервированной директивой языка)
        строка, ограниченная двойными кавычками " или апострофами ' (ограничители в начале и в конце строки должны совпадать);
            ограничители, содержащиеся в строке экранируются повтором символа (например: "1""2'3" или '1"2''3')</pre>
</p>
<p>
Флаги:
<ul>
<li><span class='inline-code'>REGEX</span> воспринимает <span class='inline-code'>identifier</span> не буквально, а как регулярное выражение</li>
<li><span class='inline-code'>CONTENT</span> применяет правило для совпавшего объекта и всего его содержимого</li>
<li><span class='inline-code'>NONE</span> не имеет эффекта (применять при отсутствии флагов)</li>
</ul>
</p>
<p>
Дополнительные опции:
<ul>
<li><span class='inline-code'>db=identifier</span> правило будет применено только к БД, имя которой подходит под регулярное выражение, заданное этим параметром</li>
</ul>
</p>
<p>
Ключевые слова:
<pre>HIDE SHOW ALL REGEX CONTENT NONE</pre>
Эти слова не могут быть идентификаторами, для их использования они должны быть взяты в кавычки.
Зарезервированы только слова, полностью совпадающие по регистру, например <span class='inline-code'>Content</span> &ndash; разрешенный идентификатор.
</p>
</body>
</html>